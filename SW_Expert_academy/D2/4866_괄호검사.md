# 내 코드
```py
T = int(input())
check = {'(':1, ')':-1, '{':2, '}':-2}
for stage in range(1, T+1):
    string = input()
    stack = []
    for i in range(len(string)):
        if string[i] in check:
            c = check[string[i]]
            if (len(stack) != 0) and ((-c) == stack[-1]):
                stack.pop()
            else:
                stack.append(c)
    if len(stack) == 0:
        result = 1
    else:
        result = 0
    print(f"#{stage} {result}")
```
# GPT 피드백
### 핵심 이슈
지금 로직은 값(+1, -1, +2, -2)을 써서 “부호가 반대면 팝”을 합니다. 이 방식이면 닫는 괄호가 먼저 나와도 나중에 여는 괄호가 나오면 서로 지워져서 통과됩니다.
- 예) ")("<br>
현재 코드 흐름: ) → 스택에 -1 push → ( → c=+1, -c == -1 이라 pop → 스택 비어서 1 출력→ 잘못된 결과(실제로는 불일치)

즉, “순서”를 보장하지 못합니다.
닫는 괄호가 나왔을 때만 스택의 마지막이 해당 여는 괄호인지 확인하고 pop 해야 합니다.

```py
T = int(input())
pairs = {')': '(', '}': '{'}
openers = set(pairs.values())

for tc in range(1, T+1):
    s = input().rstrip('\n')
    stack = []
    ok = True

    for ch in s:
        if ch in openers:
            stack.append(ch)
        elif ch in pairs:                # 닫는 괄호일 때만 검사
            if not stack or stack[-1] != pairs[ch]:
                ok = False
                break
            stack.pop()

    result = 1 if ok and not stack else 0
    print(f"#{tc} {result}")
```
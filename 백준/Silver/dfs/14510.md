# ë‚´ ì½”ë“œ
```py
# ì˜¤ëŠ˜ë¡œë¶€í„° N+1 ë˜ëŠ”ë‚  í‡´ì‚¬!
# Nì¼ë™ì•ˆ ìµœëŒ€í•œ ë§ì€ ì¼ í•˜ê³ ì‹¶ìŒ 
# í•˜ë£¨ì— í•˜ë‚˜ì”© ì„œë¡œ ë‹¤ë¥¸ ìƒë‹´.(ê±¸ë¦¬ëŠ”ì‹œê°„ T, ê¸ˆì•¡ P)
# ìƒê°: T > 1ì´ë©´ ë’¤ì— ì¡íŒê±° ëª»í• ìˆ˜ë„. ë‚¨ì€ ê¸°ê°„ì´ T ë³´ë‹¤ ì‘ìœ¼ë©´ ëª»í•¨
N = int(input())
info = [[0,0]]
for _ in range(N):
    info.append(list(map(int, input().split())))
# dfs!
result = 0
def dfs(left_day, total_day, total_pay):
    global result
    if left_day < 0:
        return 
    elif left_day == 0:
        result = max(result, total_pay)
        return 
    else: 
        # ë¶ˆëŸ¬
        dfs(left_day-info[total_day+1][0], total_day + info[total_day+1][0], total_pay + info[total_day+1][1])
        dfs(left_day-1, total_day+1, total_pay)

dfs(N,0,0)
print(result)
```
- ì‹œê°„ ë³µì¡ë„ O(2^N)
# GPT í”¼ë“œë°±
## ê³ ì¹  ë§Œí•œ ë¶€ë¶„ / ê°œì„  í¬ì¸íŠ¸
### (1) ë¶ˆí•„ìš”í•œ ì¬ê·€ í˜¸ì¶œ ì¤„ì´ê¸°
ì§€ê¸ˆì€ ë¬´ì¡°ê±´
```py
dfs(left_day-info[total_day+1][0], ...)
```

ë¥¼ í˜¸ì¶œí•œ ë’¤, ì¬ê·€ ë“¤ì–´ê°€ì„œ left_day < 0ì´ë©´ ë°”ë¡œ return í•˜ê³  ìˆì–´.

ì¡°ê¸ˆ ë” íš¨ìœ¨ì ìœ¼ë¡œ í•˜ë ¤ë©´, ì• ì´ˆì— ë‚¨ì€ ì¼ìˆ˜ê°€ ìƒë‹´ ê¸°ê°„ë³´ë‹¤ ë¶€ì¡±í•˜ë©´ ì•ˆ ë“¤ì–´ê°€ê²Œ í•˜ëŠ” ê²Œ ì¢‹ì•„.

```py
else:
    T, P = info[total_day+1]

    # ìƒë‹´ì„ í•  ìˆ˜ ìˆëŠ” ê²½ìš°ì—ë§Œ ì§„í–‰
    if left_day >= T:
        dfs(left_day - T, total_day + T, total_pay + P)

    # ìƒë‹´ì„ í•˜ì§€ ì•Šê³  í•˜ë£¨ë§Œ ë„˜ê¸°ëŠ” ê²½ìš°
    dfs(left_day - 1, total_day + 1, total_pay)
```
### (2) ì¸ë±ìŠ¤/ì˜ë¯¸ê°€ ì§ê´€ì ì´ì§€ ì•ŠìŒ
ì´ ë¬¸ì œëŠ” ë” ì „í˜•ì ì¸ í˜•íƒœë¡œ ë§ì´ í‘¼ë‹¤:

- day = ì˜¤ëŠ˜ ë‚ ì§œ (1ì¼ë¶€í„° ì‹œì‘)
- dfs(day, profit) = ì˜¤ëŠ˜ì´ dayì¼ì¼ ë•Œ, ì•ìœ¼ë¡œ ë²Œ ìˆ˜ ìˆëŠ” ìµœëŒ€ ì´ìµ

ì´ë ‡ê²Œ.
### (3) ì „ì—­ ë³€ìˆ˜ result ì•ˆ ì“°ëŠ” ë°©í–¥

ì½”ë”©í…ŒìŠ¤íŠ¸ì—ì„  ì „ì—­ ì¨ë„ ë˜ê¸´ í•˜ì§€ë§Œ, ë©´ì ‘/ì‹¤ë¬´ìŠ¤ëŸ¬ìš´ ìŠ¤íƒ€ì¼ì„ ì˜ì‹í•˜ë©´
ë¦¬í„´ê°’ìœ¼ë¡œ ìµœëŒ€ ì´ìµì„ ë°˜í™˜í•˜ëŠ” êµ¬ì¡°ê°€ ë” ê¹”ë”í•´.
## ê°™ì€ DFSë¥¼ ë” ì•Œì•„ë³´ê¸° ì‰½ê²Œ ì“´ ë²„ì „
```py
N = int(input())
info = [tuple(map(int, input().split())) for _ in range(N)]

result = 0

def dfs(day, total_pay):
    global result
    # dayê°€ N+1ì„ ë„˜ìœ¼ë©´ ë” ì´ìƒ ìƒë‹´ ë¶ˆê°€
    if day == N + 1:
        result = max(result, total_pay)
        return
    if day > N + 1:
        return

    T, P = info[day - 1]  # dayëŠ” 1-based, ë¦¬ìŠ¤íŠ¸ëŠ” 0-based

    # 1) ì˜¤ëŠ˜ ìƒë‹´ì„ í•˜ëŠ” ê²½ìš° (ìƒë‹´ì´ ê¸°ê°„ ì•ˆì— ëë‚˜ì•¼ í•¨)
    if day + T - 1 <= N:
        dfs(day + T, total_pay + P)

    # 2) ì˜¤ëŠ˜ ìƒë‹´ì„ í•˜ì§€ ì•ŠëŠ” ê²½ìš° (ê·¸ëƒ¥ í•˜ë£¨ ë„˜ê¸°ê¸°)
    dfs(day + 1, total_pay)

dfs(1, 0)
print(result)
```
## â­DP í’€ì´!!
### ì—­ë°©í–¥
ì´ ë¬¸ì œëŠ” ì›Œë‚™ ìœ ëª…í•´ì„œ, ë³´í†µì€ DPë¡œ O(N)ì— í‘¼ë‹¤.
ë©´ì ‘ì—ì„œë„ â€œì´ê±° DPë¡œë„ í’€ ìˆ˜ ìˆë‚˜ìš”?â€ ê°™ì€ ë§ ë‚˜ì˜¬ ìˆ˜ ìˆê³ .
```py
N = int(input())
T = [0] * (N + 1)
P = [0] * (N + 1)
for i in range(1, N + 1):
    T[i], P[i] = map(int, input().split())

dp = [0] * (N + 2)  # dp[i] = iì¼ì§¸ë¶€í„° ì‹œì‘í•´ì„œ ì–»ì„ ìˆ˜ ìˆëŠ” ìµœëŒ€ ì´ìµ

for i in range(N, 0, -1):
    # iì¼ì— ìƒë‹´ì„ í•  ìˆ˜ ìˆëŠ” ê²½ìš°
    if i + T[i] - 1 <= N:
        dp[i] = max(P[i] + dp[i + T[i]], dp[i + 1])
    else:
        # ì˜¤ëŠ˜ ìƒë‹´ì„ ëª» í•˜ë©´, ê·¸ëƒ¥ ë‹¤ìŒ ë‚ ì˜ ìµœëŒ€ê°’ì„ ê·¸ëŒ€ë¡œ ê°€ì ¸ì˜´
        dp[i] = dp[i + 1]

print(dp[1])
```

ì´ê±´ â€œë’¤ì—ì„œë¶€í„° ì—­ìœ¼ë¡œ ìµœì ê°’ ì±„ìš°ëŠ” ë°©ì‹â€ì´ë¼
ë‚˜ì¤‘ì— ë¹„ìŠ·í•œ ìŠ¤ì¼€ì¤„ë§/í‡´ì‚¬ë¥˜ ë¬¸ì œ ë‚˜ì˜¤ë©´ ì¬í™œìš©í•˜ê¸° ì¢‹ë‹¤.
### ì •ë°©í–¥
```py
dp = [0] * (N + 2)  # dp[i] = iì¼ê¹Œì§€ ê³ ë ¤í–ˆì„ ë•Œì˜ ìµœëŒ€ ì´ìµ

for i in range(1, N + 1):
    # iì¼ê¹Œì§€ì˜ ìµœëŒ€ ì´ìµì€ ì´ì „ ê°’ê³¼ ê°™ê±°ë‚˜ ë” í´ ìˆ˜ ìˆìŒ
    dp[i] = max(dp[i], dp[i - 1])

    # iì¼ì— ìˆëŠ” ìƒë‹´ì„ í•  ìˆ˜ ìˆë‹¤ë©´
    if i + T[i] - 1 <= N:
        # ìƒë‹´ ëë‚˜ëŠ” ë‚  ê¸°ì¤€ìœ¼ë¡œ ì´ìµ ê°±ì‹ 
        end_day = i + T[i]
        dp[end_day] = max(dp[end_day], dp[i - 1] + P[i])

answer = max(dp)  # ë˜ëŠ” dp[N]
```
# DPëŠ” ì–¸ì œ?
### (1) Optimal Substructure (ë¶€ë¶„ ë¬¸ì œì˜ ìµœì ì´ ì „ì²´ ìµœì ì— ì“°ì¸ë‹¤)
- â€œì˜¤ëŠ˜ ì–´ë–¤ ì„ íƒì„ í•˜ë“ , ê·¸ ì´í›„ êµ¬ê°„ì€ ë˜ â€˜ìµœëŒ€ ì´ìµâ€™ ë¬¸ì œì´ë‹¤.â€
- ì¦‰, â€œì „ì²´ ìµœì â€ì„ êµ¬í•˜ë ¤ë©´ â€œë’¤ìª½ êµ¬ê°„ì˜ ìµœì ê°’â€ì´ í•„ìš”í•´ â†’ ìµœì í•´ë¥¼ ë¶€ë¶„ ìµœì í•´ë“¤ë¡œ ìª¼ê°¤ ìˆ˜ ìˆìŒ.

ì´ê²Œ ì—†ìœ¼ë©´ DP ì•ˆ ë¨.

### (2) Overlapping Subproblems (ê°™ì€ ìƒíƒœë¥¼ ì—¬ëŸ¬ ë²ˆ ê³„ì‚°)

solve(3) ì´ë¼ëŠ” ìƒíƒœë¥¼
- 1ì¼ì—ì„œ 2ì¼ skip â†’ 3ì¼ë¡œ
- 1ì¼ ìƒë‹´ í•˜ê³  3ì¼ë¡œ ê°€ê³ 
- 2ì¼ì—ì„œ ìƒë‹´/skip í›„ 3ì¼ë¡œ

ì´ëŸ° ì‹ìœ¼ë¡œ ì—¬ëŸ¬ ê²½ë¡œì—ì„œ day = 3ì— ë„ë‹¬í•˜ê²Œ ë¨.

ê·¸ëŸ°ë° solve(3)ì˜ ì •ë‹µì€ ì–¸ì œë‚˜ ë˜‘ê°™ìŒ.
â†’ ë˜‘ê°™ì€ ê±¸ ê³„ì† ê³„ì‚° ì¤‘ = ì¤‘ë³µ ê³„ì‚°.

ì´ë•Œ ë“œëŠ” ìƒê°ì´:

â€œì–´ì°¨í”¼ solve(3)ëŠ” í•œ ë²ˆë§Œ êµ¬í•´ë†“ê³ , ë˜ í•„ìš”í•  ë•Œ ê·¸ëƒ¥ ê°€ì ¸ë‹¤ ì“°ë©´ ë˜ì§€ ì•Šë‚˜?â€

ë¼ëŠ” ê±°ê³ , ê·¸ê²Œ ê³§ ë©”ëª¨ì´ì œì´ì…˜ = DPì•¼.

## âœï¸ ì •ë¦¬í•˜ë©´, DP ìŠ¤ìœ„ì¹˜ê°€ ì¼œì§€ëŠ” ìˆœê°„

ìµœëŒ€/ìµœì†Œ/ê²½ìš°ì˜ ìˆ˜ ê°™ì€ ê±¸ ìš”êµ¬í•˜ê³ 

ë¬¸ì œë¥¼ ìª¼ê°œë³´ë©´
â†’ â€œí˜„ì¬ ì„ íƒ + (ì´í›„ ë¶€ë¶„ë¬¸ì œì˜ ìµœì )â€ í˜•íƒœê°€ ë˜ê³ 

ê°™ì€ ìƒíƒœ(ì˜ˆ: ê°™ì€ day, ê°™ì€ pos, ê°™ì€ ë‚¨ì€ ìš©ëŸ‰)ë¥¼
ì—¬ëŸ¬ ê²½ë¡œì—ì„œ ë°˜ë³µ ê³„ì‚°í•˜ê²Œ ìƒê²¼ë‹¤?

ğŸ‘‰ ê±°ì˜ 90% í™•ë¥ ë¡œ DP.

# ì–¸ì œ DFS ì•ˆë¨?

| ë³µì¡ë„   | N ì–´ëŠ ì •ë„ê¹Œì§€? (íŒŒì´ì¬ ê¸°ì¤€)    |
| ----- | ---------------------- |
| `2^N` | N â‰ˆ 20 ì „í›„ê¹Œì§€ (15~20)    |
| `3^N` | N â‰ˆ 10 ì´í•˜              |
| `N!`  | ì‹¤ì „ì—ì„œ ê±°ì˜ ë¶ˆê°€ëŠ¥ (8~10ë„ ë¹¡ì…ˆ) |

## ì¶”ê°€) ê·¸ë˜í”„ì—ì„œì˜ DFS/BFS (ìƒíƒœ ìˆ˜ê°€ V, ê°„ì„ ì´ Eì¼ ë•Œ)
- ê·¸ë˜í”„ DFS/BFSëŠ” ë³µì¡ë„ê°€ O(V + E).
- V, Eê°€ ê°ê° 10^5 ì •ë„ê¹Œì§€ëŠ” ì¶©ë¶„íˆ ë²„í‹´ë‹¤.
    - (ë‹¨, íŒŒì´ì¬ ì¬ê·€ DFSëŠ” ì¬ê·€ ì œí•œ ë•Œë¬¸ì— ìŠ¤íƒ í„°ì§ˆ ìˆ˜ ìˆì–´ì„œ iterative DFS / BFSë¡œ ë§ì´ í•¨)

# ë³´í†µ ì½”í…Œì—ì„œ ì‹œê°„ì œí•œ/ì–¸ì–´ ê¸°ì¤€ ê°ê°
- O(N)
â†’ N â‰¤ 10^7 ì •ë„ê¹Œì§€ (ë‹¨, ìƒìˆ˜ì‘ê³  ë‹¨ìˆœ ì—°ì‚°ì¼ ë•Œ)

- O(N log N)
â†’ N â‰¤ 10^5 ~ 2*10^5

- O(N^2)
    - N â‰¤ 2,000 ì •ë„ë©´ ì¶©ë¶„
    - N â‰ˆ 5,000 ë¶€í„°ëŠ” ë¹¡ë¹¡ (ë¬¸ì œë§ˆë‹¤ ë‹¤ë¦„)

- O(N^3)
    - N â‰¤ 500 ì •ë„ê¹Œì§€ (í”Œë¡œì´ë“œ-ì›Œì…œ ë“±)

- 2^N / N!
    - N â‰¤ 20 (2^N),
    - N â‰¤ 10 (N!)

ê·¸ë˜ì„œ ë¬¸ì œ ì½ì„ ë•Œ:

Nì´ í¬ë‹¤ (ì˜ˆ: 10^5)
â†’ 2^N, N^2ë„ ì˜ì‹¬í•´ë³´ê³ 
â†’ ë³´í†µ O(N), O(N log N) ì•ˆì— ë„£ì„ ë°©ë²•ì„ ìƒê°í•´ì•¼ í•¨.

Nì´ ì‘ë‹¤ (ì˜ˆ: â‰¤ 15, 20)
â†’ ì™„ì „íƒìƒ‰ / ë°±íŠ¸ë˜í‚¹ / ë¹„íŠ¸ë§ˆìŠ¤í¬ / DFS ê°€ëŠ¥.